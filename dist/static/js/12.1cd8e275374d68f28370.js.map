{"version":3,"sources":["webpack:///src/view/rule/review.vue","webpack:///./src/view/rule/review.vue?fc03","webpack:///./src/view/rule/review.vue"],"names":["review","name","data","loading","list","oldList","newList","auditlevel","cfg","beforeRouteLeave","to","from","next","this","JSON","parse","stringify_default","map","item","assign_default","enable","Number","$confirm","confirmButtonText","cancelButtonText","type","then","catch","created","handleGetList","methods","handleSave","updateAuditrules","args","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","res","wrap","_context","prev","Object","dataMana","sent","code","$message","success","error","msg","stop","_this2","_callee2","_context2","result","Boolean","tableRowClassName","_ref","row","rowIndex","tableHeaderName","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","size","_v","on","click","staticStyle","width","border","row-class-name","header-cell-class-name","prop","label","align","scopedSlots","_u","key","fn","scope","model","value","callback","$$v","$set","expression","disabled","action","_l","index","id","_s","desp","_withStripped","esExports","staticRenderFns","rule_review","Component","__webpack_require__","normalizeComponent","options","__file","__webpack_exports__"],"mappings":"sNAuEAA,GACAC,KAAA,SACAC,KAFA,WAGA,OACAC,SAAA,EACAC,QACAC,WACAC,WACAC,WAAAC,EAAA,IAGAC,iBAXA,SAWAC,EAAAC,EAAAC,GACAC,KAAAP,QAAAQ,KAAAC,MAAAC,IAAAH,KAAAT,OACAS,KAAAP,QAAAW,IAAA,SAAAC,GAAA,OAAAC,IAAAD,GAAAE,OAAAC,OAAAH,EAAAE,YACAP,KAAAR,UAAAW,IAAAH,KAAAP,SAUAM,IARAC,KAAAS,SAAA,wBACAC,kBAAA,KACAC,iBAAA,KACAC,KAAA,YAEAC,KAAA,WAAAd,MACAe,MAAA,WAAAf,GAAA,MAKAgB,QA3BA,WA4BAf,KAAAgB,iBAEAC,SAEAC,WAFA,WAGAlB,KAAAP,QAAAQ,KAAAC,MAAAC,IAAAH,KAAAT,OACAS,KAAAP,QAAAW,IAAA,SAAAC,GAAA,OAAAC,IAAAD,GAAAE,OAAAC,OAAAH,EAAAE,YACAP,KAAAmB,iBAAAhB,IAAAH,KAAAP,WAEA0B,iBAPA,SAOAC,GAAA,IAAAC,EAAArB,KAAA,OAAAsB,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,IAAAC,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAA9B,MAAA,cACAsB,EAAA/B,SAAA,EADAuC,EAAA9B,KAAA,EAEAgC,OAAAC,EAAA,EAAAD,CAAAX,GAFA,OAEAO,EAFAE,EAAAI,KAGAZ,EAAA/B,SAAA,EACA,IAAAqC,EAAAO,MACAb,EAAAc,SAAAC,QAAA,QACAf,EAAAL,iBAEAK,EAAAc,SAAAE,MAAAV,EAAAW,KARA,wBAAAT,EAAAU,SAAAb,EAAAL,KAAAC,IAWAN,cAlBA,WAkBA,IAAAwB,EAAAxC,KAAA,OAAAsB,IAAAC,EAAAC,EAAAC,KAAA,SAAAgB,IAAA,IAAAd,EAAA,OAAAJ,EAAAC,EAAAI,KAAA,SAAAc,GAAA,cAAAA,EAAAZ,KAAAY,EAAA3C,MAAA,cAAA2C,EAAA3C,KAAA,EACAgC,OAAAC,EAAA,EAAAD,GADA,OAEA,KADAJ,EADAe,EAAAT,MAEAC,OACAM,EAAAjD,KAAAoC,EAAAgB,OACAH,EAAAhD,QAAAW,IAAAwB,EAAAgB,QACAH,EAAAjD,KAAAa,IAAA,SAAAC,GAAA,OAAAC,IAAAD,GAAAE,OAAAqC,QAAAvC,EAAAE,aALA,wBAAAmC,EAAAH,SAAAE,EAAAD,KAAAlB,IAQAuB,kBA1BA,SAAAC,GA0BAA,EAAAC,IACA,OADAD,EAAAE,SACA,KACA,OAEA,QAEAC,gBAhCA,WAiCA,wBCtIAC,EAAA,WACA,IAAAC,EAAAnD,KACAoD,EAAAD,EAAAE,eACAC,EAAAH,EAAAI,MAAAD,IAAAF,EACA,OAAAE,EACA,OAEAA,EACA,OACSE,YAAA,eAETF,EAAA,aAA2BG,OAAS7C,KAAA,UAAA8C,KAAA,WACpCP,EAAAQ,GAAA,UAEAR,EAAAQ,GAAA,KACAL,EACA,aAEAG,OAAsB7C,KAAA,UAAA8C,KAAA,QAAApE,QAAA6D,EAAA7D,SACtBsE,IAAmBC,MAAAV,EAAAjC,cAEnBiC,EAAAQ,GAAA,SAGA,GAEAR,EAAAQ,GAAA,KACAL,EAAA,OAAiBE,YAAA,UACjBL,EAAAQ,GAAA,KACAL,EACA,YAEAQ,aAAwBC,MAAA,QACxBN,OACApE,KAAA8D,EAAA5D,KACAyE,OAAA,GACAC,iBAAAd,EAAAN,kBACAqB,yBAAAf,EAAAF,gBACAS,KAAA,WAIAJ,EAAA,mBACAG,OACAU,KAAA,OACAC,MAAA,OACAC,MAAA,SACAN,MAAA,SAGAZ,EAAAQ,GAAA,KACAL,EAAA,mBACAG,OAAoBU,KAAA,cAAAC,MAAA,OAAAC,MAAA,YAEpBlB,EAAAQ,GAAA,KACAL,EAAA,mBACAG,OACAU,KAAA,SACAC,MAAA,SACAC,MAAA,SACAN,MAAA,OAEAO,YAAAnB,EAAAoB,KAEAC,IAAA,UACAC,GAAA,SAAAC,GACA,OACApB,EACA,eAEAqB,OACAC,MAAAF,EAAA3B,IAAAxC,OACAsE,SAAA,SAAAC,GACA3B,EAAA4B,KAAAL,EAAA3B,IAAA,SAAA+B,IAEAE,WAAA,sBAGA7B,EAAAQ,GAAA,eAOAR,EAAAQ,GAAA,KACAL,EAAA,mBACAG,OAAoBU,KAAA,SAAAC,MAAA,SAAAC,MAAA,UACpBC,YAAAnB,EAAAoB,KAEAC,IAAA,UACAC,GAAA,SAAAC,GACA,OACApB,EACA,kBAEAG,OAAgCwB,UAAAP,EAAA3B,IAAAxC,QAChCoE,OACAC,MAAAF,EAAA3B,IAAAmC,OACAL,SAAA,SAAAC,GACA3B,EAAA4B,KAAAL,EAAA3B,IAAA,SAAA+B,IAEAE,WAAA,qBAGA7B,EAAAgC,GAAAhC,EAAAzD,WAAA,SAAAW,EAAA+E,GACA,OAAA9B,EACA,YAC2BkB,IAAAY,EAAA3B,OAAqBW,MAAA/D,EAAAgF,MAChDlC,EAAAQ,GAAAR,EAAAmC,GAAAjF,EAAAkF,WAGA,WAQA,IAGA,IAIArC,EAAAsC,eAAA,EACA,IAAAC,GAAiBvC,SAAAwC,oBACFC,EAAA,ECjIf,IAeAC,EAdyBC,EAAQ,OAcjCC,CACE3G,EACAwG,GATF,EAEA,KAEA,KAEA,MASAC,EAAAG,QAAAC,OAAA,2BAkBeC,EAAA,QAAAL,EAAiB","file":"static/js/12.1cd8e275374d68f28370.js","sourcesContent":["<!-- 审核项目与级别设置 -->\n<template>\n  <div>\n    <div class=\"text-right\">\n      <el-button\n        type=\"primary\"\n        size=\"small\"\n      >同步数据</el-button>\n      <el-button\n        type=\"primary\"\n        size=\"small\"\n        :loading=\"loading\"\n        @click=\"handleSave\"\n      >保存</el-button>\n    </div>\n    <div class=\"space\"></div>\n    <el-table\n      :data=\"list\"\n      border\n      :row-class-name=\"tableRowClassName\"\n      :header-cell-class-name=\"tableHeaderName\"\n      size=\"small\"\n      style=\"width: 100%;\"\n    >\n      <el-table-column\n        prop=\"code\"\n        label=\"问题代码\"\n        align=\"center\"\n        width=\"150\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"problemName\"\n        label=\"问题名称\"\n        align=\"center\"\n      ></el-table-column>\n      <el-table-column\n        prop=\"enable\"\n        label=\"区域审方启用\"\n        align=\"center\"\n        width=\"150\"\n      >\n        <template slot-scope=\"scope\">\n          <el-checkbox v-model=\"scope.row.enable\">启用</el-checkbox>\n        </template>\n      </el-table-column>\n      <el-table-column\n        prop=\"action\"\n        label=\"警示级别设置\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <el-radio-group\n            v-model=\"scope.row.action\"\n            :disabled=\"!scope.row.enable\"\n          >\n            <el-radio\n              v-for=\"(item, index) in auditlevel\"\n              :key=\"index\"\n              :label=\"item.id\"\n            >{{item.desp}}</el-radio>\n          </el-radio-group>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nimport { auditlevel } from '@/global/cfg'\nimport { Selectallaudit, Updateauditrules } from '@/api/dataMana'\n\nexport default {\n  name: 'review',\n  data() {\n    return {\n      loading: false,\n      list: [],\n      oldList: [],\n      newList: [],\n      auditlevel\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    this.newList = JSON.parse(JSON.stringify(this.list))\n    this.newList.map(item => Object.assign(item, { enable: Number(item.enable) }))\n    const res = this.oldList === JSON.stringify(this.newList)\n    if (!res) {\n      this.$confirm('当前页面未保存，是否确认离开？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      })\n        .then(() => { next() })\n        .catch(() => { next(false) })\n    } else {\n      next()\n    }\n  },\n  created() {\n    this.handleGetList()\n  },\n  methods: {\n    // 保存\n    handleSave() {\n      this.newList = JSON.parse(JSON.stringify(this.list))\n      this.newList.map(item => Object.assign(item, { enable: Number(item.enable) }))\n      this.updateAuditrules(JSON.stringify(this.newList))\n    },\n    async updateAuditrules(args) {\n      this.loading = true\n      const res = await Updateauditrules(args)\n      this.loading = false\n      if (res.code === 0) {\n        this.$message.success('保存成功')\n        this.handleGetList()\n      } else {\n        this.$message.error(res.msg)\n      }\n    },\n    async handleGetList() {\n      const res = await Selectallaudit()\n      if (res.code === 0) {\n        this.list = res.result\n        this.oldList = JSON.stringify(res.result)\n        this.list.map(item => Object.assign(item, { enable: Boolean(item.enable) }))\n      }\n    },\n    tableRowClassName({ row, rowIndex }) {\n      if ((rowIndex % 2) === 0) {\n        return 'row1'\n      }\n      return 'row2'\n    },\n    tableHeaderName() {\n      return 'table-header'\n    }\n  }\n}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/view/rule/review.vue","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    [\n      _c(\n        \"div\",\n        { staticClass: \"text-right\" },\n        [\n          _c(\"el-button\", { attrs: { type: \"primary\", size: \"small\" } }, [\n            _vm._v(\"同步数据\")\n          ]),\n          _vm._v(\" \"),\n          _c(\n            \"el-button\",\n            {\n              attrs: { type: \"primary\", size: \"small\", loading: _vm.loading },\n              on: { click: _vm.handleSave }\n            },\n            [_vm._v(\"保存\")]\n          )\n        ],\n        1\n      ),\n      _vm._v(\" \"),\n      _c(\"div\", { staticClass: \"space\" }),\n      _vm._v(\" \"),\n      _c(\n        \"el-table\",\n        {\n          staticStyle: { width: \"100%\" },\n          attrs: {\n            data: _vm.list,\n            border: \"\",\n            \"row-class-name\": _vm.tableRowClassName,\n            \"header-cell-class-name\": _vm.tableHeaderName,\n            size: \"small\"\n          }\n        },\n        [\n          _c(\"el-table-column\", {\n            attrs: {\n              prop: \"code\",\n              label: \"问题代码\",\n              align: \"center\",\n              width: \"150\"\n            }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"problemName\", label: \"问题名称\", align: \"center\" }\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: {\n              prop: \"enable\",\n              label: \"区域审方启用\",\n              align: \"center\",\n              width: \"150\"\n            },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-checkbox\",\n                      {\n                        model: {\n                          value: scope.row.enable,\n                          callback: function($$v) {\n                            _vm.$set(scope.row, \"enable\", $$v)\n                          },\n                          expression: \"scope.row.enable\"\n                        }\n                      },\n                      [_vm._v(\"启用\")]\n                    )\n                  ]\n                }\n              }\n            ])\n          }),\n          _vm._v(\" \"),\n          _c(\"el-table-column\", {\n            attrs: { prop: \"action\", label: \"警示级别设置\", align: \"center\" },\n            scopedSlots: _vm._u([\n              {\n                key: \"default\",\n                fn: function(scope) {\n                  return [\n                    _c(\n                      \"el-radio-group\",\n                      {\n                        attrs: { disabled: !scope.row.enable },\n                        model: {\n                          value: scope.row.action,\n                          callback: function($$v) {\n                            _vm.$set(scope.row, \"action\", $$v)\n                          },\n                          expression: \"scope.row.action\"\n                        }\n                      },\n                      _vm._l(_vm.auditlevel, function(item, index) {\n                        return _c(\n                          \"el-radio\",\n                          { key: index, attrs: { label: item.id } },\n                          [_vm._v(_vm._s(item.desp))]\n                        )\n                      }),\n                      1\n                    )\n                  ]\n                }\n              }\n            ])\n          })\n        ],\n        1\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n    require(\"vue-hot-reload-api\")      .rerender(\"data-v-40da768c\", esExports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-40da768c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/rule/review.vue\n// module id = null\n// module chunks = ","var disposed = false\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./review.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./review.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40da768c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./review.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\nComponent.options.__file = \"src/view/rule/review.vue\"\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-40da768c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-40da768c\", Component.options)\n  }\n  module.hot.dispose(function (data) {\n    disposed = true\n  })\n})()}\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/rule/review.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}